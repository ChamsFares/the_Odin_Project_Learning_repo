<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
  </head>
  <body>
    <h1><%= title %></h1>

    <h2>Search Users</h2>
    <form action="/search" method="GET">
      <label for="searchName">Name:</label>
      <input
        type="text"
        id="searchName"
        name="name"
        value="<%= query.name || '' %>"
      />

      <label for="searchEmail">Email:</label>
      <input
        type="email"
        id="searchEmail"
        name="email"
        value="<%= query.email || '' %>"
      />

      <button type="submit">Search</button>
    </form>

    <h2>Results</h2>
    <% if (query.name || query.email) { %> <% if (users.length > 0) { %>
    <ul>
      <% users.forEach(user => { %>
      <li>
        <%= user.firstName %> <%= user.lastName %> (<%= user.email %>, Age: <%=
        user.age || 'N/A' %>)
        <p><%= user.bio || 'No bio available' %></p>
      </li>
      <% }); %>
    </ul>
    <% } else { %>
    <p>No users found matching your search criteria.</p>
    <% } %> <% } else { %>
    <p>Please enter a search query.</p>
    <% } %>

    <a href="/">Back to home</a>
  </body>
</html>
